<nav class="navbar has-background-light mb-5" role="navigation" aria-label="navigation">
    <div class="container">
        <div class="navbar-brand">
            {{#if loggedIn }}
                <div class="navbar-item">
                    <img src="/images/placemarklogo.png">
                </div>
            {{else}}
                <a class="navbar-item" href="/">
                    <img src="/images/placemarklogo.png">
                </a>
            {{/if}}

            {{# unless admin}}
                <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="burgerMenu">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            {{/unless}}
        </div>

        <div class="navbar-menu burger-menu is-hidden-desktop" id="burgerMenu">
            {{#if loggedIn}}
                <a class="navbar-item user" href="/user">
                    <i class="fas fa-user mr-2"></i> Profile
                </a>
                <a class="navbar-item categories" href="/categories">
                    <i class="fas fa-star mr-2"></i> Categories
                </a>
                <a class="navbar-item placemarks" href="/placemarks">
                    <i class="fas fa-map-pin mr-2"></i> My Placemarks
                </a>
                <a class="navbar-item browse" href="/browse">
                    <i class="fas fa-globe mr-2"></i> Browse
                </a>
                <a class="navbar-item about" href="/about">
                    <i class="fas fa-address-card mr-2"></i> About
                </a>
                <a class="navbar-item" href="/logout">
                    <i class="fas fa-house-user mr-2"></i> Logout
                </a>
            {{else}}
                <a class="navbar-item" href="/signup">
                    <i class="fas fa-user-plus mr-2"></i> Sign up
                </a>
                <a class="navbar-item" href="/login">
                    <i class="fas fa-user mr-2"></i> Login
                </a>
            {{/if}}
        </div>

        <div id="navbar" class="navbar-menu">
            {{#if loggedIn}}
                <div class="navbar-start">
                {{#if admin}}
                    <a class="navbar-item admin" href="/admin/dashboard">
                        <i class="fas fa-gauge mr-2"></i> Dashboard
                    </a>
                {{else}}
                    <a class="navbar-item user" href="/user">
                        <i class="fas fa-user mr-2"></i> Profile
                    </a>
                    <a class="navbar-item categories" href="/categories">
                        <i class="fas fa-star mr-2"></i> Categories
                    </a>
                    <a class="navbar-item placemarks" href="/placemarks">
                        <i class="fas fa-map-pin mr-2"></i> My Placemarks
                    </a>
                    <a class="navbar-item browse" href="/browse">
                        <i class="fas fa-globe mr-2"></i> Browse
                    </a>
                    <a class="navbar-item about" href="/about">
                        <i class="fas fa-address-card mr-2"></i> About
                    </a>
                {{/if}}
                </div>
            {{/if}}

                <div class="navbar-end">
                    {{#unless admin}}
                        {{#unless loggedIn}}
                            <div class="navbar-item">
                                <div class="buttons">
                                    <a class="button is-link is-info" href="/signup">
                                        <i class="fas fa-user-plus mr-2"></i>
                                        Sign up
                                    </a>
                                    <a class="button is-light" href="/login">
                                        <i class="fas fa-user mr-2"></i> Login
                                    </a>
                                </div>
                            </div>
                        {{/unless}}
                    {{/unless}}
                    {{#if loggedIn}}
                        {{#if admin}}
                            <div class="navbar-item">
                                <i class="fas fa-user-gear mr-2"></i> {{user.firstName}} {{user.lastName}}
                            </div>
                        {{/if}}
                        <div class="navbar-item">
                            <div class="buttons">
                                <a class="button is-link is-info" href="/{{#if admin}}admin/{{/if}}logout">
                                    <i class="fas fa-house-user mr-2"></i> Logout
                                </a>
                            </div>
                        </div>
                    {{/if}}
                </div>
            </div>
    </div>
</nav>

<script>
    $(document).ready(function() {

        // Check for click events on the navbar burger icon
        $(".navbar-burger").click(function() {

            // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
            $(".navbar-burger").toggleClass("is-active");
            $(".burger-menu").toggleClass("is-active");

        });

        let active = "{{active}}";
        if (active !== "") {
            $("." + active).addClass("active-page");
        }
    });
</script>

<style>
    .active-page {
        background-color: #fafafa;
        color: #485fc7;
    }
</style>